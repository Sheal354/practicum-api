# Тест-кейс: Создание сущности через API

## **Описание теста**
Данный тест проверяет корректность создания новой сущности через API метод `POST /api/create`. После создания сущности выполняется проверка, что данные созданного объекта совпадают с данными, возвращаемыми сервером при запросе информации о созданной сущности. По завершении теста созданный пользователь удаляется.

---
## **Шаги теста**

### **1. Создание POJO-объекта**
- Создать объект класса `Entity` с необходимыми полями

### **2. Отправка POST-запроса на создание сущности**
- Выполнить POST-запрос на эндпоинт `/api/create` с телом запроса, содержащим созданный POJO-объект.
- Убедиться, что статус-код ответа равен `200 OK`.
- Получить из ответа строку `userId`, представляющую уникальный идентификатор созданного пользователя.

### **3. Проверка данных созданного пользователя**
- Выполнить GET-запрос на эндпоинт `/api/get/{userId}` с использованием полученного `userId`.
- Убедиться, что статус-код ответа равен `200 OK`.
- Извлечь данные пользователя из ответа.
- Сравнить данные созданного POJO-объекта с данными, полученными от сервера:
    - Проверить, что значение поля `title` совпадает.
    - Проверить, что значение поля `additional_info` совпадает.
    - Проверить, что значение поля `additional_number` совпадает.
---
## **Постусловия**
- Выполнить DELETE-запрос на эндпоинт `/api/delete/{userId}` с использованием полученного `userId`.
- Убедиться, что статус-код ответа равен `204 No Content`.
---
## **Ожидаемый результат**
1. POST-запрос на создание сущности возвращает статус-код `200 OK` и строку `userId`.
2. GET-запрос на получение данных пользователя возвращает статус-код `200 OK` и данные, полностью соответствующие отправленному POJO-объекту.
3. DELETE-запрос на удаление пользователя возвращает статус-код `204 No Content`.

---

# Тест-кейс: Удаление сущности через API

## **Описание теста**
Данный тест проверяет корректность удаления сущности через API метод `DELETE /api/delete/{id}`. После удаления пользователя выполняется проверка, что пользователь больше не существует на сервере, отправляя GET-запрос с тем же `userId`. Ожидается, что сервер вернет статус-код `500` при попытке получить данные удаленного пользователя.

---

## **Предусловия**
1. Создан новый пользователь через POST-запрос на эндпоинт `/api/create`.
2. Получена строка `userId`, представляющая уникальный идентификатор созданного пользователя.

---

## **Шаги теста**

### **1. Удаление пользователя**
- Выполнить DELETE-запрос на эндпоинт `/api/delete/{id}`, подставив полученный `userId` вместо `{id}`.
- Убедиться, что статус-код ответа равен `204 No Content`.

### **2. Проверка наличия пользователя на сервере**
- Выполнить GET-запрос на эндпоинт `/api/get/{id}`, подставив тот же `userId`.
- Убедиться, что статус-код ответа равен `500 Internal Server Error`.

---

## **Ожидаемый результат**
1. DELETE-запрос на удаление пользователя возвращает статус-код `204 No Content`.
2. GET-запрос на получение данных удаленного пользователя возвращает статус-код `500 Internal Server Error`.

---

# Тест-кейс: Получение сущности через API

## **Описание теста**
Данный тест проверяет корректность получения данных о пользователе через API метод `GET /api/get/{id}`. Тест включает проверку, что значение `userId` совпадает с идентификатором полученных данных, а также проверку соответствия идентификаторов основных данных пользователя и его дополнительных данных.

---

## **Предусловия**
1. На сервере существует запись о пользователе с определенным `userId`.

---

## **Шаги теста**

### **1. Получение данных о пользователе**
- Выполнить GET-запрос на эндпоинт `/api/get/{id}`, подставив существующий `userId` вместо `{id}`.
- Убедиться, что статус-код ответа равен `200 OK`.
- Извлечь данные пользователя из ответа.

### **2. Проверка соответствия `userId`**
- Сравнить значение `userId`, использованное в запросе, с полем `id` в полученных данных.
- Убедиться, что значения совпадают.

### **3. Проверка соответствия идентификаторов основных и дополнительных данных**
- Извлечь из полученных данных:
    - Идентификатор основных данных пользователя (`id`).
    - Идентификатор дополнительных данных пользователя `addition.id`.
- Убедиться, что эти идентификаторы совпадают.

---

## **Ожидаемый результат**
1. GET-запрос на получение данных пользователя возвращает статус-код `200 OK`.
2. Значение `userId`, использованное в запросе, совпадает с полем `id` в полученных данных.
3. Идентификатор основных данных пользователя совпадает с идентификатором дополнительных данных.

---

# Тест-кейс: Получение всех сущностей через API

## **Описание теста**
Данный тест проверяет корректность получения списка всех пользователей через API метод `GET /api/getAll`. Тест включает проверку, что список пользователей не является пустым или равным `null`, а также проверку, что все пользователи в списке верифицированы.

---

## **Предусловия**
1. На сервере существует хотя бы одна запись о пользователе.

---

## **Шаги теста**

### **1. Получение списка всех пользователей**
- Выполнить GET-запрос на эндпоинт `/api/getAll`.
- Убедиться, что статус-код ответа равен `200 OK`.
- Извлечь список пользователей из ответа.

### **2. Проверка, что список не равен null и не пустой**
- Убедиться, что полученный список пользователей:
    - Не равен `null`.
    - Содержит хотя бы одного пользователя (размер списка больше 0).

### **3. Проверка верификации всех пользователей**
- Для каждого пользователя в списке проверить значение поля `verified`.
- Убедиться, что для всех пользователей значение `verified` равно `true`.

---

## **Ожидаемый результат**
1. GET-запрос на получение всех пользователей возвращает статус-код `200 OK`.
2. Список пользователей не равен `null` и содержит хотя бы одного пользователя.
3. Все пользователи в списке имеют значение `verified`, равное `true`.

---
# Тест-кейс: Обновление сущности через API

## **Описание теста**
Данный тест проверяет корректность обновления данных пользователя через API метод `PATCH /api/patch/{id}`. Тест включает создание нового объекта пользователя, замену старого пользователя на нового через PATCH-запрос, проверку соответствия обновленных данных и возврат исходных данных после завершения теста.

---

## **Предусловия**
1. На сервере существует запись о пользователе с указанным `id`.

---

## **Шаги теста**

### **1. Создание POJO-объекта нового пользователя**
- Создать объект класса `Entity` с новыми данными.

### **2. Получение данных старого пользователя**
- Выполнить GET-запрос на эндпоинт `/api/get/{id}`, подставив существующий `id` вместо `{id}`.
- Убедиться, что статус-код ответа равен `200 OK`.
- Сохранить данные старого пользователя для последующего восстановления.

### **3. Обновление данных пользователя**
- Выполнить PATCH-запрос на эндпоинт `/api/patch/{id}`, подставив тот же `id`, с телом запроса, содержащим созданный POJO-объект нового пользователя.
- Убедиться, что статус-код ответа равен `204 No Content`.

### **4. Проверка обновленных данных**
- Выполнить GET-запрос на эндпоинт `/api/get/{id}` с тем же `id`.
- Убедиться, что статус-код ответа равен `200 OK`.
- Сравнить данные созданного POJO-объекта с данными, полученными от сервера:
    - Проверить, что значение поля `title` совпадает.
    - Проверить, что значение поля `additional_info` совпадает.
---

## **Ожидаемый результат**
1. PATCH-запрос на обновление пользователя возвращает статус-код `204 No Content`.
2. GET-запрос на получение данных обновленного пользователя возвращает статус-код `200 OK` и данные, полностью соответствующие отправленному POJO-объекту нового пользователя.
3. После выполнения второго PATCH-запроса данные старого пользователя успешно восстанавливаются.

---

## **Постусловия**
- Выполнить PATCH-запрос на эндпоинт `/api/patch/{id}` с тем же `id`, передав сохраненные ранее данные старого пользователя.
- Убедиться, что статус-код ответа равен `204 No Content`.
